process PROD  = 
{
   #The module which reade from a HepMC ASCII file
#   source = MCFileSource
#   {
#      # The HepMC test File
#      untracked vstring fileNames = {"SherpaWriteHepMC.dat"}
#      untracked int32 maxEvents = 10
#   }
                 
        source = PythiaSource {
                  
			  
	 untracked int32 maxEvents = 1000
    PSet PythiaParameters = {

# This is a vector of ParameterSet names to be read, in this order
# The first two are in the include files below
# The last one are simply my additional parameters
	vstring parameterSets = {
#	"pythiaMinBias", 
	"myParameters"
	}

# Default cards for minimum bias events (unfiltered)
# Name of the set is "pythiaMinBias"
include "IOMC/GeneratorInterface/test/pythiaMinBias.cfg"

# User cards - name is "myParameters"
# Pythia's random generator initialization 
	vstring myParameters = {
	'MRPY(1)= 123456789 ! Automatically random if -1',
	'MSEL=0 ! Users defined processes',
	'MSUB(102)=1 ! Define the process : gg -> H',
	'PMAS(23,1)=91.188 ! Z mass',
	'PMAS(24,1)=80.450 ! W mass',
	'PMAS(25,1)=180.00 ! H mass',
	'MDME(210,1)=0 ! Switch off Higgs decay channels',
	'MDME(211,1)=0',
	'MDME(212,1)=0',
	'MDME(213,1)=0',
	'MDME(214,1)=0',
	'MDME(215,1)=0',
	'MDME(216,1)=0',
	'MDME(217,1)=0',
	'MDME(218,1)=0',
	'MDME(219,1)=0',
	'MDME(220,1)=0',
	'MDME(221,1)=0',
	'MDME(222,1)=0',
	'MDME(223,1)=0',
	'MDME(224,1)=0',
	'MDME(225,1)=1 ! H -> ZZ switched on',
	'MDME(226,1)=0',
	'MDME(174,1)=0 ! Switch off Z decay channels',
	'MDME(175,1)=0',
	'MDME(176,1)=0',
	'MDME(177,1)=0',
	'MDME(178,1)=0',
	'MDME(179,1)=0',
	'MDME(180,1)=0',
	'MDME(181,1)=0',
	'MDME(182,1)=1 ! Z -> e+e- switched on',
	'MDME(183,1)=0',
	'MDME(184,1)=1 ! Z -> mu+mu- switched on',
	'MDME(185,1)=0',
	'MDME(186,1)=0',
	'MDME(187,1)=0',
	'MSTJ(22)=2   ! Do not decay unstable particles',
	'PARJ(71)=10. ! with c*tau > cTauMin (in mm) in PYTHIA' 
	}

    }
}	
   #Geometry
   es_source = XMLIdealGeometryESSource
   {
      FileInPath GeometryConfiguration = "Geometry/CMSCommonData/data/simConfiguration.xml"
      #the proper root node is set in the xml file
      string rootNodeName = ""
   }
   es_module = TrackerGeometricDetESModule {}
 
   #Magnetic Field
   #
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
 
#   module o1 = PoolOutputModule { untracked string fileName = "fsimevent.root" }
   module r = FamosProducer 
   { 
	untracked string InputFileName = "SherpaWriteHepMC.dat"
	untracked int32 RunNumber = 1001
	bool UseMagneticField = true
	untracked int32 Verbosity = 1
	#
        PSet VertexGenerator =
        {
             string type = "IOMC/EventVertexGenerators/GaussianEventVertexGenerator"
             double MeanX = 0.
             double MeanY = 0.
             double MeanZ = 0.
             double SigmaX = 0.015
             double SigmaY = 0.015
             double SigmaZ = 5.3
        }
    }
    path p1 = { r }	
#    endpath outpath = { o1 }
}		
